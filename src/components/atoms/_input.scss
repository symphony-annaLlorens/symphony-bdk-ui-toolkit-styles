.tk-input__container {
  position: relative;
}

.tk-input {
  &:read-only {
    @include styleInput(
      getColor($--tk-input-color, filledText),
      getColor($--tk-input-color, emptyText),
      getColor($--tk-input-color, readonly),
      getColor($--tk-input-color, readonly),
      getColor($--tk-input-color, readonly),
      getColor($--tk-input-color, readonlyBg)
    );
  }
  @include styleTKInput;

}

.tk-input__container {
  textarea.tk-input {
    padding-right: toRem(4);
  }
  @include styleTKInputContainer;

  border-color: transparent;
  outline: none;
  padding: 0 toRem(12);


  &.active {
    .tk-input {
      &__right-decorators {
        color: getColor($electricity, '50');
      }
    }  
  }

  .tk-input {
    box-shadow: none; // force cancel tk-input border
    padding: 0;
    flex-grow: 1;
    @include spacingField(0.5, 0);
    line-height: toRem(20);

    &:disabled:hover, &:disabled:active, &:read-only:hover, &:read-only:active, &:read-only:focus-within {
      box-shadow: none; // force cancel tk-input border
    }

    &__icon {
      order: -1;
      display: flex;
      align-self: center;
      justify-content: center;
      align-items: center;

      color: getColor($graphite, '50');

      margin-right: toRem(8);
      max-width: toRem(16);
      max-height: toRem(16);

      border-radius: toRem(4) 0 0 toRem(4);
      @include addTransition();
    }

    &__hide {
      max-height: toRem(39);
      font-size: toRem(12);
      line-height: toRem(16);
      padding: 0 toRem(2);
      background-color: transparent;
      color: getColor($--tk-input-hide-color, default);
      border: none;
      cursor: pointer;
      align-self: center;
      &:focus:not(.focus-visible) {
        outline: none;
      }
      @include addFocusStyle('false');
      outline-offset: toRem(2);
    }

    &__right-decorators {
      display: flex;
      i {
        align-self: center;
      }
      > *:not(:last-child) {
        margin-right: toRem(8);
      }
      &__clickable {
        @include addFocusStyle('false');
        cursor: pointer;
        &:hover {
          color: getColor($electricity, '40');
        }
        &:active {
          color: getColor($electricity, '50');
        }
      }
    }
  
    &--small, #{condensed('--medium')}, #{condensed('')} {
      @include spacingField(0, 0);
    }
    &--medium, #{condensed('--large')} {
      @include spacingField(0.5, 0);
    }
    &--large {
      @include spacingField(1, 0);
    }
  }
  &--small, #{condensed('--medium')}, #{condensed('')} {
    padding: 0 toRem(8);
    .tk-input {
      @include spacingField(0, 0);
    }
    .tk-input__icon {
      font-size: toRem(12);
      margin-right: toRem(4);
    }
    .tk-input__hide:focus-visible {
      outline-offset: 0;
    }
    .tk-input__right-decorators {
      font-size: toRem(12);
      > *:not(:last-child) {
        margin-right: toRem(4);
      }
    }
  }
  &--medium, #{condensed('--large')} {
    padding: 0 toRem(12);
    .tk-input {
      @include spacingField(0.5, 0);
    }
    .tk-input__icon {
      margin-right: toRem(8);
    }
    .tk-input__right-decorators {
      > *:not(:last-child) {
        margin-right: toRem(8);
      }
    }
  }
  &--large {
    padding: 0 toRem(16);
    .tk-input {
      @include spacingField(1, 0);
    }
  }
  &--readonly {
    @include styleInput(
      getColor($--tk-input-color, filledText),
      getColor($--tk-input-color, emptyText),
      getColor($--tk-input-color, readonly),
      getColor($--tk-input-color, readonly),
      getColor($--tk-input-color, readonly),
      getColor($--tk-input-color, readonlyBg)
    );
    .tk-input__hide {
      color: getColor($--tk-input-hide-color, disabled);
    }
  }

  &--disabled {
    @include styleInput(
      getColor($--tk-input-color, disabledText),
      getColor($--tk-input-color, emptyText),
      getColor($--tk-input-color, disabled),
      getColor($--tk-input-color, disabled),
      getColor($--tk-input-color, disabled),
      getColor($--tk-input-color, defaultBg)
    );
    .tk-input__icon { // left icon
      outline: none;
      color: getColor($--tk-input-color, disabled); // same as border
    }
    .tk-input__right-decorators { // right icons
      color: getColor($--tk-input-color, disabled); // same as border
    }
    .tk-input__hide {
      display: none;
    }
  }
}

textarea.tk-input {
  text-overflow: ellipsis;
  padding-right: toRem(16);
  &:not([rows]), &--medium:not([rows]) {
    min-height: toRem(128);
  }
  &--small, #{condensed('--medium')}, #{condensed('')} {
    &:not([rows]) {
      min-height: toRem(116);
      padding-right: toRem(12);
    }
  }
}